<?xml version="1.0" encoding="UTF-8" ?>
<RecommendationStrategy xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionContext>
        <action>PredictionHelper</action>
        <argument>
            <name>recordId</name>
            <value>$Record.Id</value>
        </argument>
        <label>PredictChurn</label>
        <name>PredictChurn</name>
        <type>apex</type>
    </actionContext>
    <contextRecordType>Account</contextRecordType>
    <filter>
        <childNode>CustomerRetentionOffers</childNode>
        <label>IsPotentialChurn</label>
        <name>IsPotentialChurn</name>
        <expression>$PredictChurn.total &gt; 60.00</expression>
    </filter>
    <invocableAction>
        <label>Discovery Recommendations</label>
        <name>DiscoveryRecommendations</name>
        <action>DiscoveryRecommendationsHelper</action>
        <argument>
            <name>inputData</name>
            <value>$Record.Id</value>
        </argument>
        <isGenerator>true</isGenerator>
        <type>apex</type>
    </invocableAction>
    <label>BankAgent</label>
    <recommendationLoad>
        <label>CustomerRetentionOffers</label>
        <name>CustomerRetentionOffers</name>
        <condition>
            <field>Recommendation.Category__c</field>
            <operator>EQUALS</operator>
            <value>
                <type>TEXT</type>
                <value>RetentionOffer</value>
            </value>
        </condition>
        <conditionLogic>and</conditionLogic>
    </recommendationLoad>
    <union>
        <childNode>IsPotentialChurn</childNode>
        <childNode>DiscoveryRecommendations</childNode>
        <label>Output</label>
        <name>Output_3b8a4eef877f48ec957ff424600f3324</name>
    </union>
</RecommendationStrategy>